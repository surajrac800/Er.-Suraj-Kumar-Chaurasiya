{"ast":null,"code":"import { useContext, useRef, useInsertionEffect } from 'react';\nimport { isMotionValue } from './utils/is-motion-value.mjs';\nimport { useMotionValue } from './use-motion-value.mjs';\nimport { MotionConfigContext } from '../context/MotionConfigContext.mjs';\nimport { useIsomorphicLayoutEffect } from '../utils/use-isomorphic-effect.mjs';\nimport { animateValue } from '../animation/animators/js/index.mjs';\nimport { frameData } from '../frameloop/data.mjs';\nimport { millisecondsToSeconds } from '../utils/time-conversion.mjs';\n/**\n * Creates a `MotionValue` that, when `set`, will use a spring animation to animate to its new state.\n *\n * It can either work as a stand-alone `MotionValue` by initialising it with a value, or as a subscriber\n * to another `MotionValue`.\n *\n * @remarks\n *\n * ```jsx\n * const x = useSpring(0, { stiffness: 300 })\n * const y = useSpring(x, { damping: 10 })\n * ```\n *\n * @param inputValue - `MotionValue` or number. If provided a `MotionValue`, when the input `MotionValue` changes, the created `MotionValue` will spring towards that value.\n * @param springConfig - Configuration options for the spring.\n * @returns `MotionValue`\n *\n * @public\n */\n\nfunction useSpring(source) {\n  let config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  const {\n    isStatic\n  } = useContext(MotionConfigContext);\n  const activeSpringAnimation = useRef(null);\n  const value = useMotionValue(isMotionValue(source) ? source.get() : source);\n\n  const stopAnimation = () => {\n    if (activeSpringAnimation.current) {\n      activeSpringAnimation.current.stop();\n    }\n  };\n\n  useInsertionEffect(() => {\n    return value.attach((v, set) => {\n      /**\n       * A more hollistic approach to this might be to use isStatic to fix VisualElement animations\n       * at that level, but this will work for now\n       */\n      if (isStatic) return set(v);\n      stopAnimation();\n      activeSpringAnimation.current = animateValue({\n        keyframes: [value.get(), v],\n        velocity: value.getVelocity(),\n        type: \"spring\",\n        restDelta: 0.001,\n        restSpeed: 0.01,\n        ...config,\n        onUpdate: set\n      });\n      /**\n       * If we're between frames, resync the animation to the frameloop.\n       */\n\n      if (!frameData.isProcessing) {\n        const delta = performance.now() - frameData.timestamp;\n\n        if (delta < 30) {\n          activeSpringAnimation.current.time = millisecondsToSeconds(delta);\n        }\n      }\n\n      return value.get();\n    }, stopAnimation);\n  }, [JSON.stringify(config)]);\n  useIsomorphicLayoutEffect(() => {\n    if (isMotionValue(source)) {\n      return source.on(\"change\", v => value.set(parseFloat(v)));\n    }\n  }, [value]);\n  return value;\n}\n\nexport { useSpring };","map":{"version":3,"sources":["C:/Users/91800/Desktop/Personal-Portfolio-React-master/node_modules/framer-motion/dist/es/value/use-spring.mjs"],"names":["useContext","useRef","useInsertionEffect","isMotionValue","useMotionValue","MotionConfigContext","useIsomorphicLayoutEffect","animateValue","frameData","millisecondsToSeconds","useSpring","source","config","isStatic","activeSpringAnimation","value","get","stopAnimation","current","stop","attach","v","set","keyframes","velocity","getVelocity","type","restDelta","restSpeed","onUpdate","isProcessing","delta","performance","now","timestamp","time","JSON","stringify","on","parseFloat"],"mappings":"AAAA,SAASA,UAAT,EAAqBC,MAArB,EAA6BC,kBAA7B,QAAuD,OAAvD;AACA,SAASC,aAAT,QAA8B,6BAA9B;AACA,SAASC,cAAT,QAA+B,wBAA/B;AACA,SAASC,mBAAT,QAAoC,oCAApC;AACA,SAASC,yBAAT,QAA0C,oCAA1C;AACA,SAASC,YAAT,QAA6B,qCAA7B;AACA,SAASC,SAAT,QAA0B,uBAA1B;AACA,SAASC,qBAAT,QAAsC,8BAAtC;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,SAASC,SAAT,CAAmBC,MAAnB,EAAwC;AAAA,MAAbC,MAAa,uEAAJ,EAAI;AACpC,QAAM;AAAEC,IAAAA;AAAF,MAAeb,UAAU,CAACK,mBAAD,CAA/B;AACA,QAAMS,qBAAqB,GAAGb,MAAM,CAAC,IAAD,CAApC;AACA,QAAMc,KAAK,GAAGX,cAAc,CAACD,aAAa,CAACQ,MAAD,CAAb,GAAwBA,MAAM,CAACK,GAAP,EAAxB,GAAuCL,MAAxC,CAA5B;;AACA,QAAMM,aAAa,GAAG,MAAM;AACxB,QAAIH,qBAAqB,CAACI,OAA1B,EAAmC;AAC/BJ,MAAAA,qBAAqB,CAACI,OAAtB,CAA8BC,IAA9B;AACH;AACJ,GAJD;;AAKAjB,EAAAA,kBAAkB,CAAC,MAAM;AACrB,WAAOa,KAAK,CAACK,MAAN,CAAa,CAACC,CAAD,EAAIC,GAAJ,KAAY;AAC5B;AACZ;AACA;AACA;AACY,UAAIT,QAAJ,EACI,OAAOS,GAAG,CAACD,CAAD,CAAV;AACJJ,MAAAA,aAAa;AACbH,MAAAA,qBAAqB,CAACI,OAAtB,GAAgCX,YAAY,CAAC;AACzCgB,QAAAA,SAAS,EAAE,CAACR,KAAK,CAACC,GAAN,EAAD,EAAcK,CAAd,CAD8B;AAEzCG,QAAAA,QAAQ,EAAET,KAAK,CAACU,WAAN,EAF+B;AAGzCC,QAAAA,IAAI,EAAE,QAHmC;AAIzCC,QAAAA,SAAS,EAAE,KAJ8B;AAKzCC,QAAAA,SAAS,EAAE,IAL8B;AAMzC,WAAGhB,MANsC;AAOzCiB,QAAAA,QAAQ,EAAEP;AAP+B,OAAD,CAA5C;AASA;AACZ;AACA;;AACY,UAAI,CAACd,SAAS,CAACsB,YAAf,EAA6B;AACzB,cAAMC,KAAK,GAAGC,WAAW,CAACC,GAAZ,KAAoBzB,SAAS,CAAC0B,SAA5C;;AACA,YAAIH,KAAK,GAAG,EAAZ,EAAgB;AACZjB,UAAAA,qBAAqB,CAACI,OAAtB,CAA8BiB,IAA9B,GACI1B,qBAAqB,CAACsB,KAAD,CADzB;AAEH;AACJ;;AACD,aAAOhB,KAAK,CAACC,GAAN,EAAP;AACH,KA5BM,EA4BJC,aA5BI,CAAP;AA6BH,GA9BiB,EA8Bf,CAACmB,IAAI,CAACC,SAAL,CAAezB,MAAf,CAAD,CA9Be,CAAlB;AA+BAN,EAAAA,yBAAyB,CAAC,MAAM;AAC5B,QAAIH,aAAa,CAACQ,MAAD,CAAjB,EAA2B;AACvB,aAAOA,MAAM,CAAC2B,EAAP,CAAU,QAAV,EAAqBjB,CAAD,IAAON,KAAK,CAACO,GAAN,CAAUiB,UAAU,CAAClB,CAAD,CAApB,CAA3B,CAAP;AACH;AACJ,GAJwB,EAItB,CAACN,KAAD,CAJsB,CAAzB;AAKA,SAAOA,KAAP;AACH;;AAED,SAASL,SAAT","sourcesContent":["import { useContext, useRef, useInsertionEffect } from 'react';\nimport { isMotionValue } from './utils/is-motion-value.mjs';\nimport { useMotionValue } from './use-motion-value.mjs';\nimport { MotionConfigContext } from '../context/MotionConfigContext.mjs';\nimport { useIsomorphicLayoutEffect } from '../utils/use-isomorphic-effect.mjs';\nimport { animateValue } from '../animation/animators/js/index.mjs';\nimport { frameData } from '../frameloop/data.mjs';\nimport { millisecondsToSeconds } from '../utils/time-conversion.mjs';\n\n/**\n * Creates a `MotionValue` that, when `set`, will use a spring animation to animate to its new state.\n *\n * It can either work as a stand-alone `MotionValue` by initialising it with a value, or as a subscriber\n * to another `MotionValue`.\n *\n * @remarks\n *\n * ```jsx\n * const x = useSpring(0, { stiffness: 300 })\n * const y = useSpring(x, { damping: 10 })\n * ```\n *\n * @param inputValue - `MotionValue` or number. If provided a `MotionValue`, when the input `MotionValue` changes, the created `MotionValue` will spring towards that value.\n * @param springConfig - Configuration options for the spring.\n * @returns `MotionValue`\n *\n * @public\n */\nfunction useSpring(source, config = {}) {\n    const { isStatic } = useContext(MotionConfigContext);\n    const activeSpringAnimation = useRef(null);\n    const value = useMotionValue(isMotionValue(source) ? source.get() : source);\n    const stopAnimation = () => {\n        if (activeSpringAnimation.current) {\n            activeSpringAnimation.current.stop();\n        }\n    };\n    useInsertionEffect(() => {\n        return value.attach((v, set) => {\n            /**\n             * A more hollistic approach to this might be to use isStatic to fix VisualElement animations\n             * at that level, but this will work for now\n             */\n            if (isStatic)\n                return set(v);\n            stopAnimation();\n            activeSpringAnimation.current = animateValue({\n                keyframes: [value.get(), v],\n                velocity: value.getVelocity(),\n                type: \"spring\",\n                restDelta: 0.001,\n                restSpeed: 0.01,\n                ...config,\n                onUpdate: set,\n            });\n            /**\n             * If we're between frames, resync the animation to the frameloop.\n             */\n            if (!frameData.isProcessing) {\n                const delta = performance.now() - frameData.timestamp;\n                if (delta < 30) {\n                    activeSpringAnimation.current.time =\n                        millisecondsToSeconds(delta);\n                }\n            }\n            return value.get();\n        }, stopAnimation);\n    }, [JSON.stringify(config)]);\n    useIsomorphicLayoutEffect(() => {\n        if (isMotionValue(source)) {\n            return source.on(\"change\", (v) => value.set(parseFloat(v)));\n        }\n    }, [value]);\n    return value;\n}\n\nexport { useSpring };\n"]},"metadata":{},"sourceType":"module"}